# 动态规划问题合集

### 最大子数组和问题

问题描述：对于一个有正有负的数组nums，求其最大连续子数组之和。

解决方案：dp[i] 表示 nums[0..i] 中以 i 结尾的最大子数组之和，则递推公式
$$
dp[i] = \max(dp[i-1] + nums[i], nums[i])
$$

### 卖木头问题

问题描述：对于一个矩形木块，可以将其任意横向或纵向切割；给定一些特定高和宽的木块可以卖出的价格，并且卖多个同样尺寸的木块，求该矩形木块可以卖出的最大价格。

解决方案：其实这个问题集合了二维动态规划和多重背包问题。用二维数组 dp\[h\]\[w\] 表示高和宽为 h 和 w 的木头可以卖出的最大价格，使用第一块可以卖出的木头对 dp 进行初始化，然后对于接下来的每个木头，dp 可以表示在 前 k-1 块木头的选择下可以卖出的最大价格。由于同一个尺寸的木头可以卖出多次，因此需要遍历在 h 和 w 的范围内，比较卖出 hn * wn 块 k 木头与不卖的价格，则对于第 k 块木头的递推公式
$$
dp[h][w] = \max(dp[h][w], hn*wn*price + \mathrm{max\_remain})\\
\mathrm{max\_remain} = \max(dp[h-th][w] + dp[th][w-tw],\\ dp[h][w-tw]+dp[h-th][tw])
$$
式中，

- hn: 纵向卖出的木头数量
- wn: 横向卖出的木头数量
- price：第k块木头的价格
- th: th = hn * height, height 为 第 k 块的高
- tw: tw = wn * width, width 为 第 k 块的宽

