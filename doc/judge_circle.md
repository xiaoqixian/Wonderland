### **判断图中是否有环**

#### 第一种方法：拓扑排序

这种方法在[拓扑排序](拓扑排序.md)中讲过。但是往往运行速度不尽人意。所以我现在一般用第二种方法。

#### **第二种方法：深度优先搜索**

在深度优先搜索中，为了判断图中是否存在环。需要将每个节点设置成三种颜色：白色、黑色和灰色。白色代表没有访问过的节点，黑色代表确定不在环内的节点，灰色则代表访问过一次还在栈内的节点。

轮询图中所有的节点，对于白色的节点，则将其判为灰色，然后轮询所有与该节点相连的节点。如果在这些节点中遇到了灰色节点，则说明遇到了环，直接返回。如果没有，则递归每个节点。

如果可以顺利返回，则将沿途所有节点都设为黑色。

这么说可能比较模糊，可以参考这道[Leetcode题](../leetcode/eventualSafeNodes.cpp)。