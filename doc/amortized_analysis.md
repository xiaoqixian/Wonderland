---
author: lunar
date: Sun 09 Aug 2020 03:59:01 PM CST
---

### **摊还分析**

在摊还分析（amortized analysis）中，我们求数据结构一个操作序列中所执行的所有操作的平均时间，来评价操作的代价。摊还分析不同于平均情况分析，它并不涉及概率，它可以保证最坏情况下每个操作的平均性能。

#### 聚合分析

二进制计数器递增问题

进行k次的二进制数递增操作，一次操作最坏情况下的代价为O(n)（n位的二进制数）。但是不能说总代价为O(kn)，因为不可能连续地出现最坏情况。实际可以计算翻转的总次数为：
$$
\sum^{k-1}_{i=0}\lfloor\frac n{2^i}\rfloor < n\sum_{i=0}^{\infty}\frac1{2^i} = 2n
$$
每个操作的代价，即摊还代价为 $O(n) / n = O(1)$

#### 核算法

